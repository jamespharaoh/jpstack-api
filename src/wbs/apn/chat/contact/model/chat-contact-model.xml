<model-meta
	name="chatContact"
	type="common">

	<fields>

		<!-- id -->

		<generated-id-field/>

		<!-- identity -->

		<parent-field
			name="fromUser"
			type="chatUser"/>

		<identity-reference-field
			name="toUser"
			type="chatUser"/>

		<!-- details -->

		<reference-field
			type="chat"/>

		<reference-field
			name="inverseChatContact"
			type="chatContact"
			nullable="yes"/>

		<!-- statistics -->

		<timestamp-field
			name="firstMessageTime"
			column-type="postgresql"
			nullable="yes"/>

		<timestamp-field
			name="lastMessageTime"
			column-type="postgresql"
			nullable="yes"/>

		<timestamp-field
			name="lastDeliveredMessageTime"
			column="last_message"
			column-type="postgresql"
			nullable="yes"/>

		<timestamp-field
			name="lastInfoTime"
			column="last_info"
			column-type="postgresql"
			nullable="yes"/>

		<timestamp-field
			name="lastPicTime"
			column="last_pic"
			column-type="postgresql"
			nullable="yes"/>

		<timestamp-field
			name="lastVideoTime"
			column="last_video"
			column-type="postgresql"
			nullable="yes"/>

		<integer-field
			name="numChatMessages"
			default="0"/>

	</fields>

</model-meta>