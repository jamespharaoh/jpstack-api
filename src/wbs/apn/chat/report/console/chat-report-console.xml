<console-module
	name="chat-report">

	<simple-context
		name="chatReport">

		<context-tab-page
			name="revShare"
			title="Revenue share report"/>

		<object-search-page
			name="recentUsers"
			tab-label="Recent users"
			object-type="chatUser"
			search-class="wbs.apn.chat.user.core.model.ChatUserSearch"
			search-form="recent-user-search"
			results-form="recent-user-results"/>

		<extension-point
			name="chatReport.graphs"/>

		<context-tab-responder-page
			name="statistics"/>

	</simple-context>

	<forms>

		<form
			name="recent-user-search"
			class="wbs.apn.chat.user.core.model.ChatUserSearch"
			type="search">

			<columns>

				<enum-field
					name="type"
					hidden="yes"
					implicit="user"/>

				<interval-field
					name="lastJoin"
					nullable="yes"/>

				<enum-field
					name="gender"
					nullable="yes"/>

				<enum-field
					name="orient"
					nullable="yes"/>

				<yes-no-field
					name="blockAll"
					nullable="yes"/>

			</columns>

		</form>

		<form
			name="recent-user-results"
			object-type="chat-user"
			type="read-only">

			<columns>

				<code-field/>

				<text-field
					name="number"
					field="number.number"
					label="Number"/>

				<enum-field
					name="gender"/>

				<enum-field
					name="orient"/>

				<yes-no-field
					name="adultVerified"/>

				<image-field
					name="image"
					field="mainChatUserImage.media"/>

				<currency-field
					name="creditBought"
					currency="chat.currency"/>

				<currency-field
					name="credit"
					currency="chat.currency"/>

				<text-field
					name="locationPlace"/>

				<object-field
					name="chatAffiliate"
					object-type="chatAffiliate"
					root-field="chat"/>

			</columns>

		</form>

		<form
			name="rev-share-search"
			class="wbs.apn.chat.report.console.ChatReportRevShareForm"
			type="search">

			<columns>

				<text-field
					name="month"/>

			</columns>

		</form>

		<form
			name="rev-share-results"
			class="wbs.apn.chat.report.console.ChatReportRevShareItem"
			type="read-only">

			<columns>

				<text-field
					name="path"
					label="Affiliate"/>

				<text-field
					name="description"
					label="Description"/>

				<integer-field
					name="joiners"
					label="Joiners"/>

				<integer-field
					name="outRevNum"
					label="Out rev #"/>

				<integer-field
					name="inRevNum"
					label="In rev #"/>

				<integer-field
					name="smsCostNum"
					label="SMS cost #"/>

				<integer-field
					name="mmsCostNum"
					label="MMS cost #"/>

				<currency-field
					name="outRev_p"
					label="Out rev"
					currency="currency"/>

				<currency-field
					name="inRev_p"
					label="In rev"
					currency="currency"/>

				<currency-field
					name="smsCost_p"
					label="SMS cost"
					currency="currency"/>

				<currency-field
					name="mmsCost_p"
					label="MMS cost"
					currency="currency"/>

				<currency-field
					name="creditRev_p"
					label="Card rev"
					currency="currency"/>

				<currency-field
					name="staffCost_p"
					label="Staff"
					currency="currency"/>

				<currency-field
					name="total_p"
					label="Total"
					currency="currency"/>

			</columns>

		</form>

	</forms>

</console-module>