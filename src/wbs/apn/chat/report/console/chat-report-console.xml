<console-module
	name="chat-report">

	<simple-context
		name="chatReport">

		<context-tab-page
			name="revShare"
			title="Revenue share report"/>

		<object-search-page
			name="recentUsers"
			tab-label="Recent users"
			object-type="chatUser"
			search-class="wbs.apn.chat.user.core.model.ChatUserSearch"
			search-fields="recent-user-search"
			results-fields="recent-user-results"/>

		<extension-point
			name="chatReport.graphs"/>

		<context-tab-responder-page
			name="statistics"/>

	</simple-context>

	<simple-context
		name="chatSharedReport">

		<object-search-page
			name="adminCredit"
			tab-label="Admin credit"
			object-type="chatUserCredit"
			search-class="wbs.apn.chat.bill.model.ChatUserCreditSearch"
			search-fields="admin-credit-search"
			results-fields="admin-credit-results"/>

		<object-search-page
			name="alarms"
			tab-label="Alarms"
			object-type="chatUserInitiationLog"
			search-class="wbs.apn.chat.contact.model.ChatUserInitiationLogSearch"
			search-fields="initiation-log-search"
			results-fields="initiation-log-results"/>

	</simple-context>

	<field-set
		name="monthReportSearch"
		class="wbs.apn.chat.report.console.ChatReportRevShareForm">

		<text-field
			name="month"/>

	</field-set>

	<field-set
		name="simpleReportResults"
		class="wbs.apn.chat.report.console.ChatReportRevShareItem">

		<text-field
			name="path"
			label="Affiliate"/>

		<text-field
			name="description"
			label="Description"/>

		<integer-field
			name="joiners"
			label="Joiners"/>

		<integer-field
			name="outRevNum"
			label="Out rev #"/>

		<integer-field
			name="inRevNum"
			label="In rev #"/>

		<integer-field
			name="smsCostNum"
			label="SMS cost #"/>

		<integer-field
			name="mmsCostNum"
			label="MMS cost #"/>

		<currency-field
			name="outRev_p"
			label="Out rev"
			currency="currency"/>

		<currency-field
			name="inRev_p"
			label="In rev"
			currency="currency"/>

		<currency-field
			name="smsCost_p"
			label="SMS cost"
			currency="currency"/>

		<currency-field
			name="mmsCost_p"
			label="MMS cost"
			currency="currency"/>

		<currency-field
			name="creditRev_p"
			label="Card rev"
			currency="currency"/>

		<currency-field
			name="staffCost_p"
			label="Staff"
			currency="currency"/>

		<currency-field
			name="total_p"
			label="Total"
			currency="currency"/>

	</field-set>

	<field-set
		name="recent-user-search"
		class="wbs.apn.chat.user.core.model.ChatUserSearch">

		<enum-field
			name="type"
			hidden="yes"
			implicit="user"/>

		<interval-field
			name="lastJoin"
			nullable="yes"/>

		<enum-field
			name="gender"
			nullable="yes"/>

		<enum-field
			name="orient"
			nullable="yes"/>

		<yes-no-field
			name="blockAll"
			nullable="yes"/>

	</field-set>

	<field-set
		name="recent-user-results"
		object-name="chatUser">

		<code-field/>

		<code-field
			name="number"
			label="Number"
			delegate="number"/>

		<enum-field
			name="gender"/>

		<enum-field
			name="orient"/>

		<yes-no-field
			name="adultVerified"/>

		<image-field
			name="image"
			field="mainChatUserImage.media"/>

		<currency-field
			name="creditBought"
			currency="chat.currency"/>

		<currency-field
			name="credit"
			currency="chat.currency"/>

		<text-field
			name="locationPlace"/>

		<object-field
			name="chatAffiliate"
			object-type="chatAffiliate"
			root-field="chat"/>

	</field-set>

	<field-set
		name="admin-credit-search"
		class="wbs.apn.chat.bill.model.ChatUserCreditSearch">

		<interval-field
			name="timestamp"
			nullable="yes"/>

	</field-set>

	<field-set
		name="admin-credit-results"
		object-name="chatUserCredit">

		<object-field
			name="chat"
			field="chatUser.chat"
			object-type="chat"/>

		<code-field
			delegate="chatUser"
			label="User"/>

		<timestamp-field
			name="timestamp"/>

		<currency-field
			name="creditAmount"
			currency="chatUser.chat.currency"/>

		<currency-field
			name="billAmount"
			currency="chatUser.chat.currency"/>

		<text-field
			name="details"/>

		<object-field
			name="user"
			object-type="user"/>

	</field-set>

	<field-set
		name="initiation-log-search"
		class="wbs.apn.chat.contact.model.ChatUserInitiationLogSearch">

		<interval-field
			name="timestamp"
			nullable="yes"/>

		<enum-field
			name="reason"
			nullable="yes"/>

		<object-field
			name="monitorUserId"
			label="User"
			object-type="user"
			nullable="yes"/>

	</field-set>

	<field-set
		name="initiation-log-results"
		object-name="chatUserInitiationLog">

		<timestamp-field
			name="timestamp"/>

		<object-field
			name="chatUser"
			label="Chat user"
			object-type="chatUser"/>

		<object-field
			name="monitorChatUser"
			label="Monitor"
			object-type="chatUser"/>

		<object-field
			name="monitorUser"
			label="User"
			object-type="user"/>

		<timestamp-field
			name="alarmTime"/>

		<enum-field
			name="reason"/>

	</field-set>

</console-module>