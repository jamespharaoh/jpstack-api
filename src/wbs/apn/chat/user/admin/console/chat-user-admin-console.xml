<console-module
	name="chat-user-admin">

	<extend-context
		name="chatUser.admin"
		base-name="chatUser"
		extension-point="chatUser.admin"
		object-name="chatUser"
		component-name="chatUser"
		friendly-name="chat user">

		<section
			name="admin"
			label="Admin">

			<context-tab-action-page
				name="info"/>

			<context-tab-action-page
				name="name"/>

			<context-tab-action-page
				name="prefs"/>

			<context-tab-action-page
				name="dob"/>

			<context-tab-action-page
				name="barring"/>

			<context-tab-form-action-page
				name="credit"
				help-text="Adjust credit for this chat user"
				submit-label="adjust credit"
				history-heading="Credit history"/>

			<context-tab-action-page
				name="creditMode"/>

			<context-tab-action-page
				name="date"/>

			<context-tab-action-page
				name="online"/>

			<context-tab-action-page
				name="bill"/>

			<context-tab-form-action-page
				name="location"
				help-text="Set a new location for this chat user"
				submit-label="set location"/>

			<object-settings-page
				short-name="other"
				form="settings"
				priv-key="chat.userAdmin"/>

			<context-tab-action-page
				name="delete"/>

			<!--
			<object-ticket-create-page
				ticket-manager="chat.ticketManager"
				fields-provider="ticketCreateFieldsProvider">

				<set-field
					field-type-code="chat_user"
					value-path="this"/>

			</object-ticket-create-page>
			-->

		</section>

	</extend-context>

	<forms>

		<form
			name="credit-action"
			class="wbs.apn.chat.user.admin.console.ChatUserAdminCreditForm"
			type="perform">

			<columns>

				<currency-field
					name="currentCredit"
					currency="chat.currency"
					read-only="yes"/>

				<currency-field
					name="creditAmount"
					currency="chat.currency"/>

				<currency-field
					name="billAmount"
					currency="chat.currency"/>

				<text-field
					name="details"
					minimum-length="1"/>

			</columns>

		</form>

		<form
			name="credit-history"
			object-type="chat-user-credit"
			type="read-only">

			<columns>

				<id-field
					label="Ref"/>

				<timestamp-field
					name="timestamp"/>

				<currency-field
					name="creditAmount"
					label="Credit"
					currency="chat.currency"/>

				<currency-field
					name="billAmount"
					label="Bill"
					currency="chat.currency"/>

				<text-field
					name="details"/>

				<object-field
					name="user"
					object-type="user"/>

			</columns>

		</form>

		<form
			name="location-action"
			class="wbs.apn.chat.user.admin.console.ChatUserAdminLocationFormActionHelper$ChatUserAdminLocationForm"
			type="perform">

			<columns>

				<text-field
					name="currentLocationName"
					read-only="yes"/>

				<floating-point-field
					name="currentLocationLatitude"
					read-only="yes"/>

				<floating-point-field
					name="currentLocationLongitude"
					read-only="yes"/>

				<text-field
					name="newLocationName"
					nullable="yes"/>

			</columns>

		</form>

		<form
			name="settings"
			object-type="chat-user"
			type="update">

			<columns>

				<yes-no-field
					name="hiddenFromChatTube"/>

				<yes-no-field
					name="stealthMonitor"/>

				<enum-field
					name="imageMode"
					nullable="yes"/>

				<yes-no-field
					name="broadcastOptOut"/>

				<object-field
					name="category"
					object-type="chatCategory"
					nullable="yes"/>

			</columns>

		</form>

	</forms>

</console-module>
