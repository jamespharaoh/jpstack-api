<console-module
	name="psychic">

	<console-helper-provider
		object-name="psychic">

		<priv-key
			name="psychic.manage"
			priv="manage"/>

		<priv-key
			name="psychic.stats"
			priv="stats"/>

		<priv-key
			name="psychic.messages"
			priv="messages"/>

		<priv-key
			name="psychic.number"
			priv="number"/>

		<priv-key
			name="psychic.history"
			priv="history"/>

		<priv-key
			name="psychic.supervisor"
			priv="supervisor"/>

		<priv-key
			name="psychic.userView"
			priv="psychic_user_view"/>

		<priv-key
			name="psychic.userAdmin"
			priv="psychic_user_admin"/>

		<priv-key
			name="psychic.userCredit"
			priv="psychic_user_credit"/>

		<context-stuff
			name="psychicName"
			field="name"/>

	</console-helper-provider>

	<object-context
		name="psychic"
		object-name="psychic">

		<list>

			<object-list-page
				fields="list"/>

			<object-create-page/>

		</list>

		<object>

			<object-summary-page
				fields="summary"/>

			<section
				name="settings"
				label="Settings">

				<!--
				settingsPageBuilder.get ()
					.consoleModule (this)
					.consoleHelper (objectHelper)
					.contextType ("psychic.settings")
					.shortName ("general")
					.longName ("settingsGeneral")
					.friendlyShortName ("general")
					.friendlyLongName ("Psychic settings general")
					.privName ("psychic.manage")
					.fields (psychicGeneralFields ())
					.build ();

				settingsPageBuilder.get ()
					.consoleModule (this)
					.consoleHelper (psychicSettingsHelper)
					.contextType ("psychic.settings")
					.shortName ("misc")
					.longName ("settingsMisc")
					.friendlyShortName ("misc")
					.friendlyLongName ("psychic settings misc")
					.privName ("psychic.manage")
					.fields (psychicSettingsFields ())
					.build ();

				settingsPageBuilder.get ()
					.consoleModule (this)
					.consoleHelper (psychicRoutesHelper)
					.contextType ("psychic.settings")
					.shortName ("routes")
					.longName ("settingsRoutes")
					.friendlyShortName ("routes")
					.friendlyLongName ("Psychic settings routes")
					.privName ("psychic.manage")
					.fields (psychicRoutesFields ())
					.build ();

				settingsPageBuilder.get ()
					.consoleModule (this)
					.consoleHelper (psychicChargesHelper)
					.contextType ("psychic.settings")
					.shortName ("charges")
					.longName ("settingsCharges")
					.friendlyShortName ("charges")
					.friendlyLongName ("Psychic settings charges")
					.privName ("psychic.manage")
					.fields (psychicChargesFields ())
					.build ();
					-->

				<section
					name="templates"
					label="Templates">

					<extension-point
						name="psychic.settings.templates"/>

				</section>

				<!--
				// templates

				babyContextBuilder.get ()
					.consoleModule (this)
					.consoleHelper (objectHelper)
					.parentContextName ("psychic.settings")
					.contextName ("psychic.templates")
					.shortName ("templates")
					.friendlyName ("templates")
					.defaultFile ("/psychic.systemTemplates/{psychicId}/stringTemplate.list")
					.addPrivKey ("psychic.manage")
					.addParentLink ("psychic")
					.tabLocation ("templates")
					.build ();

				templatesContextBuilder.get ()
					.consoleModule (this)
					.consoleHelper (objectHelper)
					.parentContextName ("psychic.templates")
					.contextName ("psychic.systemTemplate")
					.shortName ("system")
					.friendlyName ("system")
					.privName ("psychic.manage")
					.addParentLink ("psychic")
					.build ();
					-->

				<context-link
					name="affiliateGroup"
					link="psychicAffiliateGroup"
					label="Affiliate groups"
					priv-key="psyhic.manage"/>

				<context-link
					name="keyword"
					link="psychicKeyword"
					label="Keywords"
					priv-key="psychic.manage"/>

			</section>

			<context-link
				name="user"
				link="psychicUser"
				label="Users"
				priv-key="psychic.manage"/>

			<object-sms-messages-page/>

			<object-sms-stats-page/>

			<object-events-page/>

		</object>

	</object-context>

	<field-set
		name="list"
		object-name="psychic">

		<parent-field/>
		<name-field/>
		<description-field/>

	</field-set>

	<field-set
		name="summary"
		object-name="psychic">

		<id-field/>
		<parent-field/>
		<code-field/>
		<name-field/>
		<description-field/>
		<deleted-field/>

	</field-set>

	<field-set
		name="settings-core"
		object-name="psychic">

		<id-field/>
		<parent-field/>
		<code-field/>
		<name-field/>
		<description-field/>
		<deleted-field/>

	</field-set>

	<field-set
		name="settings-general"
		object-name="psychic">

		<id-field/>

		<object-field
			name="defaultPsychicAffiliate"
			label="Default affiliate"
			finder="psychicAffiliate"
			root-field="psychic"/>

		<seconds-field
			name="requestPreferredQueueTime"/>

		<seconds-field
			name="helpPreferredQueueTime"/>

	</field-set>

	<field-set
		name="settings-routes"
		object-name="psychicRoutes">

		<id-field/>

		<object-field
			name="billRoute"
			finder="route"/>

		<text-field
			name="billNumber"/>

		<object-field
			name="freeRouter"
			finder="router"/>

		<object-field
			name="magicNumberSet"
			finder="magicNumberSet"/>

		<object-field
			name="magicRouter"
			finder="router"/>

	</field-set>

	<field-set
		name="settings-charges"
		object-name="psychicCharges">

		<id-field/>

		<integer-field
			name="creditLimit"/>

		<integer-field
			name="dailyLimit"/>

		<integer-field
			name="requestCharge"/>

		<integer-field
			name="initialCredit"/>

	</field-set>

</console-module>
