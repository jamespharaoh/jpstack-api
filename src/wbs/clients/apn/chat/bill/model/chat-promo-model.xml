<model-meta
	name="chatPromo"
	type="minor">

	<fields>

		<!-- id -->

		<generated-id-field/>

		<!-- identity -->

		<parent-field
			type="chat"/>

		<code-field/>

		<!-- details -->

		<name-field/>

		<description-field/>

		<deleted-field/>

		<!-- settings -->

		<timestamp-field
			name="startTime"
			column-type="sql"/>

		<timestamp-field
			name="endTime"
			column-type="sql"/>

		<integer-field
			name="amount"/>

		<reference-field
			name="successText"
			type="text"/>

		<reference-field
			name="alreadyClaimedText"
			type="text"/>

		<reference-field
			name="promoNotStartedText"
			type="text"/>

		<reference-field
			name="promoEndedText"
			type="text"/>

		<yes-no-field
			name="joinChat"/>

		<yes-no-field
			name="joinDating"/>

		<!-- statistics -->

		<integer-field
			name="numUsers"
			default="0"/>

	</fields>

	<collections>

		<children-mapping
			type="chatPromoUser"
			map-type="integer"
			map-column="chat_user_id"/>

	</collections>

	<command-types>

		<command-type
			name="Promo"
			description="Claim a promotional credit"/>

	</command-types>

	<service-types>

		<service-type
			subject="chat"
			name="Promo"
			description="Promo messages for an SMS chat service"/>

	</service-types>

</model-meta>