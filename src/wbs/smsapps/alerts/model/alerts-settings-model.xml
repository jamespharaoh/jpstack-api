<model-meta
	name="alertsSettings"
	type="major">

	<fields>

		<!-- id -->

		<generated-id-field/>

		<!-- identity -->

		<parent-field
			type="slice"/>

		<code-field/>

		<!-- details -->

		<name-field/>

		<description-field/>

		<deleted-field/>

		<!-- settings -->

		<yes-no-field
			name="enabled"
			default="no"/>

		<reference-field
			type="router"
			nullable="yes"/>

		<string-field
			name="numFrom"
			default="Alerts"/>

		<string-field
			name="template"
			default="Queue alert: {numItems} items, {numMinutes} minutes"/>

		<integer-field
			name="maxItemsInQueue"
			default="100"/>

		<integer-field
			name="maxDurationInQueue"
			default="600"/>

		<integer-field
			name="maxAlertFrequency"
			default="2600"/>

		<integer-field
			name="startHour"
			nullable="yes"/>

		<integer-field
			name="endHour"
			nullable="yes"/>

		<!-- statistics -->

		<timestamp-field
			name="lastStatusCheck"
			column-type="sql"
			nullable="yes"/>

		<integer-field
			name="numStatusChecks"
			default="0"/>

		<timestamp-field
			name="lastAlert"
			column-type="sql"
			nullable="yes"/>

		<integer-field
			name="numAlerts"
			default="0"/>

	</fields>

	<collections>

		<children-collection
			type="alertsNumber"
			order-sql="id"/>

		<children-collection
			type="alertsSubject"
			order-sql="id"/>

	</collections>

</model-meta>